function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e}function l(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const a="undefined"!=typeof window;let i=a?()=>window.performance.now():()=>Date.now(),u=a?t=>requestAnimationFrame(t):t;const f=new Set;function d(t){f.forEach((e=>{e.c(t)||(f.delete(e),e.f())})),0!==f.size&&u(d)}function h(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function $(){return v(" ")}function b(){return v("")}function y(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t){return Array.from(t.childNodes)}function k(t,e,n,o){for(let o=0;o<t.length;o+=1){const r=t[o];if(r.nodeName===e){let e=0;const s=[];for(;e<r.attributes.length;){const t=r.attributes[e++];n[t.name]||s.push(t.name)}for(let t=0;t<s.length;t++)r.removeAttribute(s[t]);return t.splice(o,1)[0]}}return o?function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}(e):m(e)}function _(t,e){for(let n=0;n<t.length;n+=1){const o=t[n];if(3===o.nodeType)return o.data=""+e,t.splice(n,1)[0]}return v(e)}function x(t){return _(t," ")}function D(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function I(t,e){t.value=null==e?"":e}function V(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function T(t,e,n){t.classList[n?"add":"remove"](e)}const M=new Set;let S,A=0;function N(t,e,n,o,r,s,c,l=0){const a=16.666/o;let i="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*s(t);i+=100*t+`%{${c(o,1-o)}}\n`}const u=i+`100% {${c(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,d=t.ownerDocument;M.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(m("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${f} ${o}ms linear ${r}ms 1 both`,A+=1,f}function Y(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),A-=r,A||u((()=>{A||(M.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),M.clear())})))}function C(t){S=t}function F(){if(!S)throw new Error("Function called outside component initialization");return S}const P=[],j=[],O=[],B=[],L=Promise.resolve();let U=!1;function W(t){O.push(t)}let q=!1;const z=new Set;function H(){if(!q){q=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];C(e),R(e.$$)}for(C(null),P.length=0;j.length;)j.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];z.has(e)||(z.add(e),e())}O.length=0}while(P.length);for(;B.length;)B.pop()();U=!1,q=!1,z.clear()}}function R(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}let G;function J(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const K=new Set;let Q;function X(){Q={r:0,c:[],p:Q}}function Z(){Q.r||r(Q.c),Q=Q.p}function tt(t,e){t&&t.i&&(K.delete(t),t.i(e))}function et(t,e,n,o){if(t&&t.o){if(K.has(t))return;K.add(t),Q.c.push((()=>{K.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const nt={duration:0};function ot(n,o,c,l){let a=o(n,c),h=l?0:1,p=null,g=null,m=null;function v(){m&&Y(n,m)}function $(t,e){const n=t.b-h;return e*=Math.abs(n),{a:h,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(o){const{delay:s=0,duration:c=300,easing:l=e,tick:b=t,css:y}=a||nt,E={start:i()+s,b:o};o||(E.group=Q,Q.r+=1),p||g?g=E:(y&&(v(),m=N(n,h,o,c,s,l,y)),o&&b(0,1),p=$(E,c),W((()=>J(n,o,"start"))),function(t){let e;0===f.size&&u(d),new Promise((n=>{f.add(e={c:t,f:n})}))}((t=>{if(g&&t>g.start&&(p=$(g,c),g=null,J(n,p.b,"start"),y&&(v(),m=N(n,h,p.b,p.duration,0,l,a.css))),p)if(t>=p.end)b(h=p.b,1-h),J(n,p.b,"end"),g||(p.b?v():--p.group.r||r(p.group.c)),p=null;else if(t>=p.start){const e=t-p.start;h=p.a+p.d*l(e/p.duration),b(h,1-h)}return!(!p&&!g)})))}return{run(t){s(a)?(G||(G=Promise.resolve(),G.then((()=>{G=null}))),G).then((()=>{a=a(),b(t)})):b(t)},end(){v(),p=g=null}}}function rt(t,e){const n=e.token={};function o(t,o,r,s){if(e.token!==n)return;e.resolved=s;let c=e.ctx;void 0!==r&&(c=c.slice(),c[r]=s);const l=t&&(e.current=t)(c);let a=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(X(),et(t,1,1,(()=>{e.blocks[n]=null})),Z())})):e.block.d(1),l.c(),tt(l,1),l.m(e.mount(),e.anchor),a=!0),e.block=l,e.blocks&&(e.blocks[o]=l),a&&H()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const n=F();if(t.then((t=>{C(n),o(e.then,1,e.value,t),C(null)}),(t=>{if(C(n),o(e.catch,2,e.error,t),C(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var r}function st(t,e){et(t,1,1,(()=>{e.delete(t.key)}))}function ct(t,e,n,o,r,s,c,l,a,i,u,f){let d=t.length,h=s.length,p=d;const g={};for(;p--;)g[t[p].key]=p;const m=[],v=new Map,$=new Map;for(p=h;p--;){const t=f(r,s,p),l=n(t);let a=c.get(l);a?o&&a.p(t,e):(a=i(l,t),a.c()),v.set(l,m[p]=a),l in g&&$.set(l,Math.abs(p-g[l]))}const b=new Set,y=new Set;function E(t){tt(t,1),t.m(l,u),c.set(t.key,t),u=t.first,h--}for(;d&&h;){const e=m[h-1],n=t[d-1],o=e.key,r=n.key;e===n?(u=e.first,d--,h--):v.has(r)?!c.has(o)||b.has(o)?E(e):y.has(r)?d--:$.get(o)>$.get(r)?(y.add(o),E(e)):(b.add(r),d--):(a(n,c),d--)}for(;d--;){const e=t[d];v.has(e.key)||a(e,c)}for(;h;)E(m[h-1]);return m}function lt(t){t&&t.c()}function at(t,e){t&&t.l(e)}function it(t,e,o){const{fragment:c,on_mount:l,on_destroy:a,after_update:i}=t.$$;c&&c.m(e,o),W((()=>{const e=l.map(n).filter(s);a?a.push(...e):r(e),t.$$.on_mount=[]})),i.forEach(W)}function ut(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e){-1===t.$$.dirty[0]&&(P.push(t),U||(U=!0,L.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function dt(e,n,s,c,l,a,i=[-1]){const u=S;C(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:i,skip_bound:!1};let h=!1;if(d.ctx=s?s(e,f,((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),h&&ft(e,t)),n})):[],d.update(),h=!0,r(d.before_update),d.fragment=!!c&&c(d.ctx),n.target){if(n.hydrate){const t=w(n.target);d.fragment&&d.fragment.l(t),t.forEach(g)}else d.fragment&&d.fragment.c();n.intro&&tt(e.$$.fragment),it(e,n.target,n.anchor),H()}C(u)}class ht{$destroy(){ut(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function pt(e){let n,o,r,s,c,l,a,i,u,f,d,b;return{c(){n=m("div"),o=m("div"),r=m("div"),s=m("span"),c=v(e[0]),l=$(),a=m("div"),i=m("div"),u=$(),f=m("div"),d=m("a"),b=v("Login with GitHub"),this.h()},l(t){n=k(t,"DIV",{class:!0});var h=w(n);o=k(h,"DIV",{class:!0});var p=w(o);r=k(p,"DIV",{class:!0});var m=w(r);s=k(m,"SPAN",{});var v=w(s);c=_(v,e[0]),v.forEach(g),m.forEach(g),p.forEach(g),l=x(h),a=k(h,"DIV",{class:!0});var $=w(a);i=k($,"DIV",{class:!0}),w(i).forEach(g),$.forEach(g),u=x(h),f=k(h,"DIV",{class:!0});var y=w(f);d=k(y,"A",{class:!0,href:!0});var E=w(d);b=_(E,"Login with GitHub"),E.forEach(g),y.forEach(g),h.forEach(g),this.h()},h(){E(r,"class","toast toast-error"),E(o,"class","column col-12 mt-2"),E(i,"class","divider"),E(a,"class","column col-12"),E(d,"class","btn btn-lg btn-secondary"),E(d,"href","/api/connect/github"),E(f,"class","column col-12 text-center"),E(n,"class","columns")},m(t,e){p(t,n,e),h(n,o),h(o,r),h(r,s),h(s,c),h(n,l),h(n,a),h(a,i),h(n,u),h(n,f),h(f,d),h(d,b)},p(t,[e]){1&e&&D(c,t[0])},i:t,o:t,d(t){t&&g(n)}}}function gt(t,e,n){let{err:o="unknown error"}=e;return t.$$set=t=>{"err"in t&&n(0,o=t.err)},[o]}class mt extends ht{constructor(t){super(),dt(this,t,gt,pt,c,{err:0})}}const vt=[];function $t(e,n=t){let o;const r=[];function s(t){if(s=t,((n=e)!=n?s==s:n!==s||n&&"object"==typeof n||"function"==typeof n)&&(e=t,o)){const t=!vt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),vt.push(n,e)}if(t){for(let t=0;t<vt.length;t+=2)vt[t][0](vt[t+1]);vt.length=0}}var n,s}return{set:s,update:function(t){s(t(e))},subscribe:function(c,l=t){const a=[c,l];return r.push(a),1===r.length&&(o=n(s)||t),c(e),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const bt=$t(""),yt=$t([]),Et=$t([]),wt=t=>{const e=Date.now();Et.update((n=>[...n,{msg:t,key:e}])),setTimeout((()=>{Et.update((t=>[...t.filter((t=>t.key!==e))]))}),5e3)},kt=$t(!1);function _t(e){let n,o,r,s,c,l,a,i,u,f,d,b,I,M,S,A,N,Y,C;return{c(){n=m("div"),o=m("h1"),r=v("FeedBox"),s=$(),c=m("span"),l=$(),a=m("span"),i=v(e[1]),u=$(),f=m("a"),d=v("export"),b=$(),I=m("a"),M=v("logout"),S=$(),A=m("div"),N=m("div"),this.h()},l(t){n=k(t,"DIV",{class:!0});var h=w(n);o=k(h,"H1",{class:!0});var p=w(o);r=_(p,"FeedBox"),p.forEach(g),s=x(h),c=k(h,"SPAN",{class:!0,style:!0}),w(c).forEach(g),l=x(h),a=k(h,"SPAN",{});var m=w(a);i=_(m,e[1]),m.forEach(g),u=x(h),f=k(h,"A",{href:!0,target:!0});var v=w(f);d=_(v,"export"),v.forEach(g),b=x(h),I=k(h,"A",{href:!0});var $=w(I);M=_($,"logout"),$.forEach(g),h.forEach(g),S=x(t),A=k(t,"DIV",{class:!0});var y=w(A);N=k(y,"DIV",{class:!0}),w(N).forEach(g),y.forEach(g),this.h()},h(){E(o,"class","d-inline-block mb-0"),E(c,"class","loading d-inline-block"),V(c,"width","1rem"),T(c,"d-invisible",e[0]),E(f,"href","/api/v1/feeds/export"),E(f,"target","_blank"),E(I,"href","/api/logout"),E(n,"class","column col-12"),E(N,"class","divider"),E(A,"class","column col-12")},m(t,g){p(t,n,g),h(n,o),h(o,r),h(n,s),h(n,c),h(n,l),h(n,a),h(a,i),h(n,u),h(n,f),h(f,d),h(n,b),h(n,I),h(I,M),p(t,S,g),p(t,A,g),h(A,N),Y||(C=y(I,"click",e[2]),Y=!0)},p(t,[e]){1&e&&T(c,"d-invisible",t[0]),2&e&&D(i,t[1])},i:t,o:t,d(t){t&&g(n),t&&g(S),t&&g(A),Y=!1,C()}}}function xt(t,e,n){let o,r;l(t,kt,(t=>n(0,o=t))),l(t,bt,(t=>n(1,r=t)));return[o,r,()=>{const t=navigator.serviceWorker;t&&t.controller&&t.controller.postMessage("logout")}]}class Dt extends ht{constructor(t){super(),dt(this,t,xt,_t,c,{})}}const It=async t=>{if(t.ok){return await t.json()}{const e=await t.text();throw new Error(e)}},Vt=async(t,e,n,o={})=>(o["Content-Type"]||(o["Content-Type"]="application/json; charset=utf-8"),fetch(e,{method:t,headers:o,body:n&&JSON.stringify(n),redirect:"follow",mode:"same-origin",credentials:"same-origin"}).then(It)),Tt=async(t,e)=>Vt("GET",t,null,e);function Mt(e){let n,o,s,c,l,a,i,u,f,d,b;return{c(){n=m("div"),o=m("div"),s=m("input"),c=$(),l=m("button"),a=v("add"),i=$(),u=m("div"),f=m("div"),this.h()},l(t){n=k(t,"DIV",{class:!0});var e=w(n);o=k(e,"DIV",{class:!0});var r=w(o);s=k(r,"INPUT",{class:!0,type:!0,placeholder:!0}),c=x(r),l=k(r,"BUTTON",{type:!0,class:!0});var d=w(l);a=_(d,"add"),d.forEach(g),r.forEach(g),e.forEach(g),i=x(t),u=k(t,"DIV",{class:!0});var h=w(u);f=k(h,"DIV",{class:!0}),w(f).forEach(g),h.forEach(g),this.h()},h(){E(s,"class","form-input"),E(s,"type","text"),E(s,"placeholder","feed url"),E(l,"type","button"),E(l,"class","btn btn-primary input-group-btn"),T(l,"loading",e[0]),T(l,"disabled",e[0]),E(o,"class","input-group"),E(n,"class","column col-12"),E(f,"class","divider"),E(u,"class","column col-12")},m(t,r){p(t,n,r),h(n,o),h(o,s),I(s,e[1]),h(o,c),h(o,l),h(l,a),p(t,i,r),p(t,u,r),h(u,f),d||(b=[y(s,"input",e[3]),y(l,"click",e[2])],d=!0)},p(t,[e]){2&e&&s.value!==t[1]&&I(s,t[1]),1&e&&T(l,"loading",t[0]),1&e&&T(l,"disabled",t[0])},i:t,o:t,d(t){t&&g(n),t&&g(i),t&&g(u),d=!1,r(b)}}}function St(t,e,n){let o=!1,r="";return[o,r,async()=>{if(!0===o)throw new Error("loading is true");n(0,o=!0),(async(t,e,n)=>Vt("PUT",t,e,n))("/api/v1/feeds/add",{url:r}).then((t=>yt.set(t))).then((()=>wt("added"))).catch((t=>{window.alert(t.message),location.reload()})).then((()=>{n(1,r=""),n(0,o=!1)}))},function(){r=this.value,n(1,r)}]}class At extends ht{constructor(t){super(),dt(this,t,St,Mt,c,{})}}function Nt(t){const e=t-1;return e*e*e+1}function Yt(t,{delay:e=0,duration:n=400,easing:o=Nt,x:r=0,y:s=0,opacity:c=0}){const l=getComputedStyle(t),a=+l.opacity,i="none"===l.transform?"":l.transform,u=a*(1-c);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${i} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${a-u*e}`}}function Ct(t,{delay:e=0,duration:n=400,easing:o=Nt}){const r=getComputedStyle(t),s=+r.opacity,c=parseFloat(r.height),l=parseFloat(r.paddingTop),a=parseFloat(r.paddingBottom),i=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),f=parseFloat(r.borderTopWidth),d=parseFloat(r.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*s};height: ${t*c}px;padding-top: ${t*l}px;padding-bottom: ${t*a}px;margin-top: ${t*i}px;margin-bottom: ${t*u}px;border-top-width: ${t*f}px;border-bottom-width: ${t*d}px;`}}const Ft=t=>("0"+t).slice(-2),Pt=t=>{const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>"']/g,(t=>e[t]))};function jt(t,e,n){const o=t.slice();return o[4]=e[n],o}function Ot(t,e){let n,o,r,s,c,l,a,i,u,f,d,b,I,V,M,S,A,N,Y,C,F,P,j,O,B=Pt(e[4].url)+"",L=e[1](e[4].updated)+"";function U(...t){return e[3](e[4],...t)}return{key:t,first:null,c(){n=m("div"),o=m("div"),r=m("div"),s=m("div"),c=m("a"),l=v(B),i=$(),u=m("div"),f=m("span"),d=v("updated @ "),b=v(L),I=$(),V=m("div"),M=m("div"),S=m("button"),A=v("remove"),Y=$(),C=m("div"),F=m("div"),this.h()},l(t){n=k(t,"DIV",{class:!0});var e=w(n);o=k(e,"DIV",{class:!0});var a=w(o);r=k(a,"DIV",{class:!0});var h=w(r);s=k(h,"DIV",{class:!0});var p=w(s);c=k(p,"A",{target:!0,rel:!0,href:!0});var m=w(c);l=_(m,B),m.forEach(g),p.forEach(g),i=x(h),u=k(h,"DIV",{class:!0});var v=w(u);f=k(v,"SPAN",{});var $=w(f);d=_($,"updated @ "),b=_($,L),$.forEach(g),v.forEach(g),h.forEach(g),I=x(a),V=k(a,"DIV",{class:!0});var y=w(V);M=k(y,"DIV",{});var E=w(M);S=k(E,"BUTTON",{type:!0,class:!0});var D=w(S);A=_(D,"remove"),D.forEach(g),E.forEach(g),y.forEach(g),a.forEach(g),e.forEach(g),Y=x(t),C=k(t,"DIV",{class:!0});var T=w(C);F=k(T,"DIV",{class:!0}),w(F).forEach(g),T.forEach(g),this.h()},h(){E(c,"target","_blank"),E(c,"rel","noopener"),E(c,"href",a=Pt(e[4].url)),E(s,"class","tile-title text-break"),E(u,"class","tile-subtitle text-gray"),E(r,"class","tile-content"),E(S,"type","button"),E(S,"class","btn btn-error"),T(S,"loading",e[4].loading),T(S,"disabled",e[4].loading),E(V,"class","tile-action"),E(o,"class","tile"),E(n,"class","column col-12"),E(F,"class","divider"),E(C,"class","column col-12"),this.first=n},m(t,e){p(t,n,e),h(n,o),h(o,r),h(r,s),h(s,c),h(c,l),h(r,i),h(r,u),h(u,f),h(f,d),h(f,b),h(o,I),h(o,V),h(V,M),h(M,S),h(S,A),p(t,Y,e),p(t,C,e),h(C,F),P=!0,j||(O=y(S,"click",U),j=!0)},p(t,n){e=t,(!P||1&n)&&B!==(B=Pt(e[4].url)+"")&&D(l,B),(!P||1&n&&a!==(a=Pt(e[4].url)))&&E(c,"href",a),(!P||1&n)&&L!==(L=e[1](e[4].updated)+"")&&D(b,L),1&n&&T(S,"loading",e[4].loading),1&n&&T(S,"disabled",e[4].loading)},i(t){P||(W((()=>{N||(N=ot(n,Ct,{},!0)),N.run(1)})),P=!0)},o(t){N||(N=ot(n,Ct,{},!1)),N.run(0),P=!1},d(t){t&&g(n),t&&N&&N.end(),t&&g(Y),t&&g(C),j=!1,O()}}}function Bt(t){let e,n,o=[],r=new Map,s=t[0];const c=t=>t[4].id;for(let e=0;e<s.length;e+=1){let n=jt(t,s,e),l=c(n);r.set(l,o[e]=Ot(l,n))}return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=b()},l(t){for(let e=0;e<o.length;e+=1)o[e].l(t);e=b()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);p(t,e,r),n=!0},p(t,[n]){if(7&n){const s=t[0];X(),o=ct(o,n,c,1,t,s,r,e.parentNode,st,Ot,e,jt),Z()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)tt(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)et(o[t]);n=!1},d(t){for(let e=0;e<o.length;e+=1)o[e].d(t);t&&g(e)}}}function Lt(t,e,n){let o;l(t,yt,(t=>n(0,o=t)));const r=async t=>{if(window.confirm(`remove "${t.url}"`)){if(!0===t.loading)throw new Error("loading is true");t.loading=!0,(async(t,e,n)=>Vt("DELETE",t,e,n))("/api/v1/feeds/remove",{feedID:t.id}).then((t=>yt.set(t))).then((()=>wt("removed"))).catch((t=>{window.alert(t.message),location.reload()}))}};return[o,t=>null===t?"never":((t,e="YYYY-MM-DD hh:mm:ss")=>{const n=new Date(t),o=n.getFullYear(),r=n.getMonth()+1,s=n.getDate(),c=n.getHours(),l=n.getMinutes(),a=n.getSeconds(),i={YYYY:o,M:r,MM:Ft(r),D:s,DD:Ft(s),h:c,hh:Ft(c),m:l,mm:Ft(l),s:a,ss:Ft(a)};return e.replace(/YYYY|MM?|DD?|hh?|mm?|ss?/g,(t=>i[t]))})(t),r,t=>r(t)]}class Ut extends ht{constructor(t){super(),dt(this,t,Lt,Bt,c,{})}}function Wt(t,e,n){const o=t.slice();return o[3]=e[n],o[5]=n,o}function qt(t,e){let n,o,r,s,c,l,a,i,u,f=e[3].msg+"";function d(...t){return e[2](e[5],...t)}return{key:t,first:null,c(){n=m("div"),o=m("button"),r=$(),s=v(f),c=$(),this.h()},l(t){n=k(t,"DIV",{class:!0});var e=w(n);o=k(e,"BUTTON",{class:!0}),w(o).forEach(g),r=x(e),s=_(e,f),c=x(e),e.forEach(g),this.h()},h(){E(o,"class","btn btn-clear float-right"),E(n,"class","toast toast-success mb-2"),this.first=n},m(t,e){p(t,n,e),h(n,o),h(n,r),h(n,s),h(n,c),a=!0,i||(u=y(o,"click",d),i=!0)},p(t,n){e=t,(!a||1&n)&&f!==(f=e[3].msg+"")&&D(s,f)},i(t){a||(W((()=>{l||(l=ot(n,Yt,{x:100},!0)),l.run(1)})),a=!0)},o(t){l||(l=ot(n,Yt,{x:100},!1)),l.run(0),a=!1},d(t){t&&g(n),t&&l&&l.end(),i=!1,u()}}}function zt(t){let e,n,o=[],r=new Map,s=t[0];const c=t=>t[3].key;for(let e=0;e<s.length;e+=1){let n=Wt(t,s,e),l=c(n);r.set(l,o[e]=qt(l,n))}return{c(){e=m("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){e=k(t,"DIV",{class:!0,style:!0});var n=w(e);for(let t=0;t<o.length;t+=1)o[t].l(n);n.forEach(g),this.h()},h(){E(e,"class","p-fixed"),V(e,"width","10em"),V(e,"right","0.4rem"),V(e,"top","0.4rem"),V(e,"z-index","10"),V(e,"contain","content")},m(t,r){p(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(3&n){const s=t[0];X(),o=ct(o,n,c,1,t,s,r,e,st,qt,null,Wt),Z()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)tt(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)et(o[t]);n=!1},d(t){t&&g(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function Ht(t,e,n){let o;l(t,Et,(t=>n(0,o=t)));const r=t=>{Et.update((e=>(e.splice(t,1),[...e])))};return[o,r,t=>r(t)]}class Rt extends ht{constructor(t){super(),dt(this,t,Ht,zt,c,{})}}class Gt{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}function Jt(t){let e,n;return e=new mt({props:{err:t[4]}}),{c(){lt(e.$$.fragment)},l(t){at(e.$$.fragment,t)},m(t,o){it(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.err=t[4]),e.$set(o)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function Kt(e){let n,o,r,s,c,l,a,i,u;return o=new Dt({}),s=new At({}),l=new Ut({}),i=new Rt({}),{c(){n=m("div"),lt(o.$$.fragment),r=$(),lt(s.$$.fragment),c=$(),lt(l.$$.fragment),a=$(),lt(i.$$.fragment),this.h()},l(t){n=k(t,"DIV",{class:!0});var e=w(n);at(o.$$.fragment,e),r=x(e),at(s.$$.fragment,e),c=x(e),at(l.$$.fragment,e),e.forEach(g),a=x(t),at(i.$$.fragment,t),this.h()},h(){E(n,"class","columns")},m(t,e){p(t,n,e),it(o,n,null),h(n,r),it(s,n,null),h(n,c),it(l,n,null),p(t,a,e),it(i,t,e),u=!0},p:t,i(t){u||(tt(o.$$.fragment,t),tt(s.$$.fragment,t),tt(l.$$.fragment,t),tt(i.$$.fragment,t),u=!0)},o(t){et(o.$$.fragment,t),et(s.$$.fragment,t),et(l.$$.fragment,t),et(i.$$.fragment,t),u=!1},d(t){t&&g(n),ut(o),ut(s),ut(l),t&&g(a),ut(i,t)}}}function Qt(e){let n,o,r;return{c(){n=m("div"),o=m("div"),r=m("div"),this.h()},l(t){n=k(t,"DIV",{class:!0});var e=w(n);o=k(e,"DIV",{class:!0});var s=w(o);r=k(s,"DIV",{class:!0}),w(r).forEach(g),s.forEach(g),e.forEach(g),this.h()},h(){E(r,"class","loading loading-lg"),E(o,"class","column col-12"),E(n,"class","columns")},m(t,e){p(t,n,e),h(n,o),h(o,r)},p:t,i:t,o:t,d(t){t&&g(n)}}}function Xt(t){let e,n,o,r={ctx:t,current:null,token:null,hasCatch:!0,pending:Qt,then:Kt,catch:Jt,error:4,blocks:[,,,]};return rt(n=t[0].promise,r),{c(){e=m("div"),r.block.c(),this.h()},l(t){e=k(t,"DIV",{class:!0});var n=w(e);r.block.l(n),n.forEach(g),this.h()},h(){E(e,"class","container grid-sm")},m(t,n){p(t,e,n),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,o=!0},p(e,[o]){if(t=e,r.ctx=t,1&o&&n!==(n=t[0].promise)&&rt(n,r));else{const e=t.slice();e[4]=r.resolved,r.block.p(e,o)}},i(t){o||(tt(r.block),o=!0)},o(t){for(let t=0;t<3;t+=1){et(r.blocks[t])}o=!1},d(t){t&&g(e),r.block.d(),r.token=null,r=null}}}function Zt(t,e,n){const o=self.__STATE__||{};let{loaded:r=o.loaded||new Gt}=e,{email:s=o.email||""}=e,{feeds:c=o.feeds||[]}=e;var l;return s&&bt.set(s),c.length&&yt.set(c),l=()=>{Promise.all([Tt("/api/v1/user"),Tt("/api/v1/feeds")]).then((([t,e])=>{bt.set(t.addition.email),yt.set(e),kt.set(!0),r.resolve&&r.resolve(!0)})).catch((t=>{console.error(t.stack),r.reject&&r.reject(t.message)}))},F().$$.on_mount.push(l),t.$$set=t=>{"loaded"in t&&n(0,r=t.loaded),"email"in t&&n(1,s=t.email),"feeds"in t&&n(2,c=t.feeds)},[r,s,c]}new class extends ht{constructor(t){super(),dt(this,t,Zt,Xt,c,{loaded:0,email:1,feeds:2})}}({target:document.querySelector("#app"),hydrate:!0}),navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js");
//# sourceMappingURL=app.67f5ebcd.js.map
